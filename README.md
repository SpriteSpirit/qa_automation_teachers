# Проект автоматизации тестирования

## Проект

Автоматизация тестирования веб-платформы Teachers

## Описание проекта
Данный проект представляет собой автоматизированное тестирование веб-платформы Teachers, с фокусом на функциональность личных событий в расписании преподавателя.

## Основная функциональность платформы:

    - Получение расписания преподавателя
    - Добавление личных событий
    - Редактирование личных событий
    - Удаление личных событий

## Структура

```
automation_yougile/
├── src/
│   ├── api/                       # API-клиенты и запросы       
│   │   └── api_client.py           
│   ├── config/                    # Конфигурация проекта
│   │   └── config.py              # Файл с конфигурационными данными
│   ├── data/                      # Тестовые данные
│   │   └── test_data.py           # Файл с тестовыми данными
│   ├── pages/                     # PageObject классы
│   │   ├── base_page.py           # Базовый класс для всех страниц
│   │   ├── login_page.py          # Страница авторизации
│   │   ├── main_page.py           # Главная страница (после авторизации)
│   │   └── task_page.py           # Страница задачи
│   ├── utils/                     # Вспомогательные функции и классы
│   │   ├── api_client.py          # Класс для взаимодействия с API
│   │   └── helpers.py             # Вспомогательные функции
├── tests/                         # Тесты
│   ├── conftest.py                # Фикстуры pytest
│   ├── test_api.py                # API тесты
│   └── test_ui.py                 # UI тесты
├── requirements.txt               # Зависимости проекта
├── pytest.ini                     # Настройки pytest
└── README.md                      # Описание проекта
```

## Требования

- Python 3.9+
- Зависимости в requirements.txt

## Стек технологий

- **Python 3.11**: Язык программирования.
- **Pytest**: Фреймворк для тестирования.
- **Flake8**: Инструмент для проверки стиля кода Python.
- **Selenium**: Для автоматизации веб-браузеров.
- **Allure**: Для генерации отчетов о тестировании.

## Установка

1. Клонирование репозитория
```bash
git clone https://github.com/your-username/teachers-automation.git
cd teachers-automation
```

2. Создание виртуального окружения
python -m venv venv
source venv/bin/activate    # Для Linux/MacOS
venv\Scripts\activate       # Для Windows

3. Установка зависимостей
pip install -r requirements.txt

## Запуск тестов

- UI тесты: `pytest tests/test_ui.py`
- API тесты: `pytest tests/test_api.py`
- Все тесты: `pytest`

## Настройка окружения
Создайте в корне проекта файл .env и укажите необходимые параметры:

BASE_URL=https://teachers-platform.com
USERNAME=test_user
PASSWORD=secure_password

## Запуск тестов
1. Запуск всех тестов
```bash
pytest --alluredir=reports/allure-results
```
2. Запуск только UI-тестов
```bash
pytest tests/test_ui.py --alluredir=reports/allure-results
```
3. Запуск только API-тестов
```bash
pytest tests/test_api.py --alluredir=reports/allure-results
```
4. Генерация отчёта Allure
После выполнения тестов можно сгенерировать отчёт:

```bash
allure serve reports/allure-results
```

## Описание функциональности тестируемого продукта
### 1. Добавление личного события
Преподаватель может добавить событие двумя способами:

    - Кликнув на свободный слот в расписании
    - Нажав кнопку «+»
**Условия:**

    - Название (обязательно, не более 40 символов)
    - Дата и время (обязательно)
    - Описание (необязательно, без ограничений по символам, поддержка Markdown и ссылок)
    - Цвет события (по умолчанию серый)

### 2. Удаление личного события
Для удаления события необходимо:

    - Кликнуть на событие
    - Нажать кнопку «Удалить»

### 3. Редактирование личного события
Преподаватель может изменить:

    - Название
    - Цвет
    - Описание
    - Дату и время

### 4. Совмещение личного события и урока
    - Урок всегда отображается выше личного события
    - Если два события совпадают по времени, выше отображается последнее добавленное


## Тест-кейсы
В проекте реализованы следующие тест-кейсы:

### UI-тесты (Selenium)
    - Успешная авторизация
    - Создание личного события с валидными данными
    - Авторизация с неверным логином
    - Авторизация с неверным паролем
    - Удаление личного события
### API-тесты (Requests)
    - Получение расписания преподавателя
    - Добавление личного события
    - Редактирование личного события
    - Удаление личного события
    - Создание двух событий на одно время

## Настройка кода и качество
В проекте используется Flake8 для проверки кода на соответствие стандарту PEP8.
Все тесты документированы с использованием allure.step.
Данные конфигурации (логины, пароли, URL) вынесены в отдельный файл config/settings.py.
Используются Page Object и вспомогательные функции для минимизации дублирования кода.

### Запуск проверки кода на стиль:

```bash
flake8 .
```
## Рекомендации по работе с проектом
    - Используйте временные аккаунты для тестирования, чтобы избежать блокировки.
    - Для ускорения UI-тестов можно использовать подстановку авторизационного токена в cookies.
    - Проверяйте стабильность тестов перед выполнением: тест должен успешно отрабатывать 10-12 раз подряд.
    - Избегайте использования sleep(), вместо них используйте ожидания Selenium.
    - Следите за отсутствием захардкоженных данных в тестах.
